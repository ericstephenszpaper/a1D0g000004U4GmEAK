<!--
// Name: zStack Library
// Committer: prathyushav@wilcosource.com
// Update: Removed extra space for cosentyx program
-->
<script>
//--- RULE JSON REPRESENTATION ---
var ruleJson = {"type":"rool","updated":"2018-11-06 13:43:06","evalContinue":"true","active":true,"button":"","name":"zStack Library","conditions":{"logic":"and","arguments":[{"name":"doc.status","value":"DoNotStack","operation":"not-contains"}]},"consequence":{"doit":"Ci8vZ2xvYmFsIHZhcmlhYmxlcwp6RGF0YS51cGxvYWREaXIgPSAiaW50ZWdyYXRpb25EaXIiOwoKLy8gUXVldWUgU0ZJRAp6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIiI7IC8vTmVlZCB0byBhZGQgdGhpcyBxdWV1ZSBpbiBTZXR1cAp6RGF0YS5yZWNUeXBlUmVxdWVzdCA9ICIwMTI0QzAwMDAwMENqNVkiOyAvL0lEIG9mIHRoZSBDYXNlIFJlY29yZCBUeXBlIFJlcXVlc3RfUFNfTVZOCnpEYXRhLnByb2dyYW1OYW1lID0gbnVsbDsKekRhdGEuQWZmaWxpYXRlID0gIiI7CnpEYXRhLnNvdXJjZU5hbWUgPSAiRmF4IjsKLy9NU0gxODA0MDggekRhdGEucHJvZHVjdElkID0gIiI7CnpEYXRhLnByb2R1Y3RJZCA9IG51bGw7Ci8vUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCnpEYXRhLm93bmVySWQgPSBudWxsOwovL3Byb2dyYW0gU0ZJRAp6RGF0YS5wcm9ncmFtSWQgPSBudWxsOwp6RGF0YS5jbGFzc2lmaWNhdGlvbiA9IG51bGw7CnpEYXRhLnNraXBDYXNlVHlwZUlkID0gbnVsbDsKekRhdGEuZ2VuZXJhdGVUaWZmID0gZmFsc2U7Ci8qCiAqIGlmICgxPT09MCkgeyAvL0VSUzE3MDgwNSBnZXQgdGhlIGRhdGEgZnJvbSB0aGUgRGVwbG95bWVudEluZm8gLy9FUlMxNzA5MDkgVE9ETyBkbyB0aGlzIHNhZmVseSB3aXRoIFhEZXBsb3ltZW50SW5mbyxYQ3VzdG9tU2V0dGluZwogKiAgICAgLy9hbGVydCgiRVJTMTcwNzI1IERJPSIrZG9jLmtiRGF0YS5kZXBsb3ltZW50SW5mbyk7CiAqICAgICB2YXIgY3M9KGRvYy5rYkRhdGEuZGVwbG95bWVudEluZm8rIiIpOyAvL25vdCBbIkJ1c2luZXNzX1Byb2Nlc3NfX2MiXTsKICogICAgIC8vYWxlcnQoIkVSUzE3MDgwNSBjcz0iK2NzKTsKICogICAgIGlmIChjcykgewogKiAgICAgICAgIGlmIChjcy5pbmRleE9mKCJ6Q3VzdG9tU2V0dGluZ3MiKT4tMSkgY3M9WChkb2MsInpDdXN0b21TZXR0aW5ncyIsY3MpOwogKiAgICAgICAgIGlmIChjcyAhPT0gIiIpIGV2YWwoY3MpOwogKiAgICAgICAgIGFsZXJ0KCJFUlMxNzA4MjIgaW1wb3J0IGZvciAiK2NzKTsKICogICAgIH0KICogfQogKi8KCi8vQ1JOMTcwMzI0IFRPRE8gZG9jLmNsb25lKCkgZG9uZSByaWdodDsKekRhdGEuY2xvbmUgPSBmdW5jdGlvbiAoZG9jKSB7CiAgICB2YXIgZG9jMCA9IFtdOwogICAgZm9yICh2YXIgaSBpbiBkb2MpIHsKICAgICAgICBkb2MwW2ldID0gZG9jW2ldOwogICAgfQogICAgcmV0dXJuIGRvYzA7Cn07CgovKiBNU0gxODEwMDQgdW51c2VkOyB1c2luZyBzZXQ8b3JnPkNvbmZpZyBpbnN0ZWFkCiB6RGF0YS5zZXRicmFuZHByb2dyYW0gPSBmdW5jdGlvbihkb2MpIHsKIGFsZXJ0KCIrKysgU1RBUlRJTkcgekRhdGEuc2V0YnJhbmRwcm9ncmFtICsrKyIpOwogYWxlcnQoIkBAQCBkb2MuZGVsaXZlcmVkVG8gPSAiICsgZG9jLmRlbGl2ZXJlZFRvKTsKIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTQwOSIpID4gLTEpIHsKIHpEYXRhLnByb2dyYW1OYW1lID0gIkVudHJlc3RvIENlbnRyYWwiOwogLy9lbnRyZXN0byBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKIHpEYXRhLm93bmVySWQgPSAiMDBHNUIwMDAwMDBlemE3IjsKIC8vcHJvZ3JhbSBTRklECiB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnMjkwMDAwMDFBMWoxIjsKIC8vZW50cmVzdG8gUXVldWUgU0ZJRAogekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEc1QjAwMDAwMGV6YTciOwogekRhdGEuY2xhc3NpZmljYXRpb24gPSAiRW50cmVzdG8iOwogfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTc2NiIpID4gLTEpIHsKIC8vekRhdGEgZm9yIFRPQkkKIHpEYXRhLnByb2dyYW1OYW1lID0gIlRPQkkgUG9kQ2FyZSI7CiAvL1RPQkkgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiB6RGF0YS5vd25lcklkID0gIjAwRzVCMDAwMDAwZnNEUSI7CiAvL3Byb2dyYW0gU0ZJRAogekRhdGEucHJvZ3JhbUlkID0gImEwZzI5MDAwMDAxQTFqMSI7CiAvL1RPQkkgUXVldWUgU0ZJRAogekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEc1QjAwMDAwMGZzRFEiOwogekRhdGEuY2xhc3NpZmljYXRpb24gPSAiVE9CSSI7CiB6RGF0YS5wcm9kdWN0SWQgPSAiYTF6NUIwMDAwMDBmc2RnIjsKIH0gZWxzZSB7CiB6RGF0YS5wcm9ncmFtTmFtZSA9IGRvYy5kZWxpdmVyZWRUbzsgLy9FUlMxNzA2MjYKIH0KIGFsZXJ0KCIrKysgRU5ESU5HIHpEYXRhLnNldGJyYW5kcHJvZ3JhbSArKysiKTsKIGFsZXJ0KCJAQEAgekRhdGEucHJvZ3JhbU5hbWUgPSAiICsgekRhdGEucHJvZ3JhbU5hbWUpOwogYWxlcnQoIkBAQCB6RGF0YS5BZmZpbGlhdGUgPSAiICsgekRhdGEuQWZmaWxpYXRlKTsKIH07CiAqLwoKLy8gREVWIGNvbmZpZwp6RGF0YS5zZXREZXZDb25maWcgPSBmdW5jdGlvbiAoZG9jKSB7CiAgICBhbGVydCgiKysrIFNUQVJUSU5HIHpEYXRhLnNldERldkNvbmZpZyArKysiKTsKICAgIGFsZXJ0KCJAQEAgZG9jLmRlbGl2ZXJlZFRvID0gIiArIGRvYy5kZWxpdmVyZWRUbyk7CiAgICBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzE0MDkiKSA+IC0xKSB7CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiRW50cmVzdG8gQ2VudHJhbCI7CiAgICAgICAgLy9lbnRyZXN0byBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAweW52QiI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnNUMwMDAwMDBHN05BIjsKICAgICAgICAvL2VudHJlc3RvIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAweW52QiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiRW50cmVzdG8iOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkQ1QzAwMDAwMElWOGsiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7IC8va3BzMTgwNDA2IHVwZGF0ZWQgdG8gaW5jbHVkZSBUSUYKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzE3NjYiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgVE9CSQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIlRPQkkgUG9kQ2FyZSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDB5ejhUIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGc1QzAwMDAwMEc3TkEiOwogICAgICAgIC8vVE9CSSBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIlRPQkkiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkQ1QzAwMDAwMElWOGoiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7IC8va3BzMTgwNDA2IHVwZGF0ZWQgdG8gaW5jbHVkZSBUSUYKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzAyMDYiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTlBBRgogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5QQUYiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEcCI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnNUMwMDAwMDBHN05BIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRwIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJOUEFGIjsKICAgICAgICAvL01TSDE4MDQwOCB6RGF0YS5wcm9kdWN0SWQgPSAiYTF6NUIwMDAwMDBnR0lyIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwNDQyIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE5QQUYgUHJpb3JpdHkKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJOUEFGIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHEiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZzVDMDAwMDAwRzdOQSI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTlBBRiI7CiAgICAgICAgLy9NU0gxODA0MDggekRhdGEucHJvZHVjdElkID0gImExejVCMDAwMDAwZ0dJciI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDIwNyIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBQQU5PCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiUEFOTyI7CiAgICAgICAgLy9QQU5PIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRyIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGc1QzAwMDAwMEc3TkEiOwogICAgICAgIC8vUEFOTyBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIlBBTk8iOwogICAgICAgIC8vekRhdGEucHJvZHVjdElkID0gImEyRDI5MDAwMDAwU1BMSSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDIxOSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBBSU1PVklHCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQUlNT1ZJRyI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRuIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGc1QzAwMDAwMEc3TkEiOwogICAgICAgIC8vQUlNT1ZJRyBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkFJTU9WSUciOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkQ1QzAwMDAwMElWN04iOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMDM1IikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTA0MiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBDb3NlbnR5eAogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkNvc2VudHl4IjsKICAgICAgICAvL0Nvc2VudHl4IFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHNUMwMDAwMDFVRW54IjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGc1QzAwMDAwMEc3TkEiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHNUMwMDAwMDFVRW54IjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJDb3NlbnR5eCI7CiAgICAgICAgLy96RGF0YS5wcm9kdWN0SWQgPSAiYTJEMjkwMDAwMDBTUExJIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICAgICAgLy9Ob3QgY3JlYXRlIGEgY2FzZSB3aGVuIGNhc2UgcmVjb3JkIHR5cGUgaXMgaG90bGluZQogICAgICAgIHpEYXRhLnNraXBDYXNlVHlwZUlkID0gWyIwMTJmNDAwMDAwMGdveXkiLCAiMDEyZjQwMDAwMDBnb3l5Il07CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMTQxIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE1heXplbnQgU3VwcG9ydCBQcm9ncmFtCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTWF5emVudCBTdXBwb3J0IFByb2dyYW0iOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEc1QzAwMDAwMVVFbzIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZzVDMDAwMDAwRzdOQSI7CiAgICAgICAgLy9NYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEc1QzAwMDAwMVVFbzIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk1heXplbnQgU3VwcG9ydCBQcm9ncmFtIjsKICAgICAgICAvL3pEYXRhLnByb2R1Y3RJZCA9ICJhMkQyOTAwMDAwMFNQTDgiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgICAgLy9NU0gxODEwMDQgekRhdGEucHJvZ3JhbU5hbWUgPSBkb2MuZGVsaXZlcmVkVG87IC8vRVJTMTcwNjI2CiAgICAgICAgLy9NU0gxODEwMDQgU29tZXRoaW5nIGEgbGl0dGxlIG1vcmUgZGVzY3JpcHRpdmUKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJObyBQcm9ncmFtIElkZW50aWZpZWQiOwogICAgfQogICAgYWxlcnQoIisrKyBFTkRJTkcgekRhdGEuc2V0RGV2Q29uZmlnICsrKyIpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5wcm9ncmFtTmFtZSA9ICIgKyB6RGF0YS5wcm9ncmFtTmFtZSk7CiAgICBhbGVydCgiQEBAIHpEYXRhLnByb2dyYW1JZCA9ICIgKyB6RGF0YS5wcm9ncmFtSWQpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5vd25lcklkID0gIiArIHpEYXRhLm93bmVySWQpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIiArIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICIgKyB6RGF0YS5jbGFzc2lmaWNhdGlvbik7Cn07CgovLyBTSVQgY29uZmlnCnpEYXRhLnNldFNJVENvbmZpZyA9IGZ1bmN0aW9uIChkb2MpIHsKICAgIGFsZXJ0KCIrKysgU1RBUlRJTkcgekRhdGEuc2V0U0lUQ29uZmlnICsrKyIpOwogICAgYWxlcnQoIkBAQCBkb2MuZGVsaXZlcmVkVG8gPSAiICsgZG9jLmRlbGl2ZXJlZFRvKTsKICAgIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTIwOCIpID4gLTEpIHsKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJFbnRyZXN0byBDZW50cmFsIjsKICAgICAgICAvL2VudHJlc3RvIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDB5bnZCIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vZW50cmVzdG8gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDB5bnZCIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJFbnRyZXN0byI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0RuUCI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTIxMCIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBUT0JJCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiVE9CSSBQb2RDYXJlIjsKICAgICAgICAvL1RPQkkgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAweXo4VCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiVE9CSSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0VTSSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTIxNiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBOUEFGCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTlBBRiI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRwIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHAiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk5QQUYiOwogICAgICAgIC8vTVNIMTgwNDA4IHpEYXRhLnByb2R1Y3RJZCA9ICJhMXo1QjAwMDAwMGdHSXIiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzEyMTgiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTlBBRgogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5QQUYiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRxIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJOUEFGIjsKICAgICAgICAvL01TSDE4MDQwOCB6RGF0YS5wcm9kdWN0SWQgPSAiYTF6NUIwMDAwMDBnR0lyIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjIxIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIFBBTk8KICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJQQU5PIjsKICAgICAgICAvL1BBTk8gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9QQU5PIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEciI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiUEFOTyI7CiAgICAgICAgLy96RGF0YS5wcm9kdWN0SWQgPSAiYTJEMjkwMDAwMDBTUExJIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjI1IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIEFJTU9WSUcKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJBSU1PVklHIjsKICAgICAgICAvL0FJTU9WSUcgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEbiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQUlNT1ZJRyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwOVBFTSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzA5MzciKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwOTUzIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIENvc2VudHl4CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQ29zZW50eXgiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEc1QjAwMDAwMURweXoiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9Db3NlbnR5eCBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEc1QjAwMDAwMURweXoiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkNvc2VudHl4IjsKICAgICAgICAvL3pEYXRhLnByb2R1Y3RJZCA9ICJhMkQyOTAwMDAwMFNQTEkiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgICAgICAvL05vdCBjcmVhdGUgYSBjYXNlIHdoZW4gY2FzZSByZWNvcmQgdHlwZSBpcyBob3RsaW5lCiAgICAgICAgekRhdGEuc2tpcENhc2VUeXBlSWQgPSBbIjAxMmY0MDAwMDAwZ295eSIsICIwMTJmNDAwMDAwMGdveXkiXTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzExNDciKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTWF5emVudCBTdXBwb3J0IFByb2dyYW0KICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJNYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSI7CiAgICAgICAgLy9NYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwRzVCMDAwMDAxRHFVaSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL01heXplbnQgU3VwcG9ydCBQcm9ncmFtIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwRzVCMDAwMDAxRHFVaSI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTWF5emVudCBTdXBwb3J0IFByb2dyYW0iOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSBkb2MuZGVsaXZlcmVkVG87IC8vRVJTMTcwNjI2CiAgICB9CiAgICBhbGVydCgiKysrIEVORElORyB6RGF0YS5zZXRTSVRDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIHpEYXRhLnByb2dyYW1OYW1lID0gIiArIHpEYXRhLnByb2dyYW1OYW1lKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEucHJvZ3JhbUlkID0gIiArIHpEYXRhLnByb2dyYW1JZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLm93bmVySWQgPSAiICsgekRhdGEub3duZXJJZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiICsgekRhdGEucGF0RW5yb2xsUXVldWVJZCk7CiAgICBhbGVydCgiQEBAIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIiArIHpEYXRhLmNsYXNzaWZpY2F0aW9uKTsKfTsKCi8vIFFBIGNvbmZpZwp6RGF0YS5zZXRRQUNvbmZpZyA9IGZ1bmN0aW9uIChkb2MpIHsKICAgIGFsZXJ0KCIrKysgU1RBUlRJTkcgekRhdGEuc2V0VGVzdENvbmZpZyArKysiKTsKICAgIGFsZXJ0KCJAQEAgZG9jLmRlbGl2ZXJlZFRvID0gIiArIGRvYy5kZWxpdmVyZWRUbyk7CiAgICBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIi0tLS0tLS0tLS0tLS0iKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCItLS0tLS0tLS0tLS0gIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIENvc2VudHl4CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQ29zZW50eXgiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEc0RDAwMDAwMGJJUU8iOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ1owMDAwMDAzTFJWNiI7CiAgICAgICAgLy9Db3NlbnR5eCBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEc0RDAwMDAwMGJJUU8iOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkNvc2VudHl4IjsKICAgICAgICAvL3pEYXRhLnByb2R1Y3RJZCA9ICJhMkQyOTAwMDAwMFNQTEkiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgICAgICAvL05vdCBjcmVhdGUgYSBjYXNlIHdoZW4gY2FzZSByZWNvcmQgdHlwZSBpcyBob3RsaW5lCiAgICAgICAgekRhdGEuc2tpcENhc2VUeXBlSWQgPSBbIjAxMmY0MDAwMDAwZ295eSIsICIwMTJmNDAwMDAwMGdveXkiXTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzExNDciKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTWF5emVudCBTdXBwb3J0IFByb2dyYW0KICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJNYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSI7CiAgICAgICAgLy9NYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwRzI5MDAwMDAxU090RiI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnMjkwMDAwMDFBMWoxIjsKICAgICAgICAvL01heXplbnQgU3VwcG9ydCBQcm9ncmFtIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwRzI5MDAwMDAxU090RiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQUlNT1ZJRyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRDI5MDAwMDAwU1BMOCI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSBkb2MuZGVsaXZlcmVkVG87CiAgICB9CiAgICBhbGVydCgiKysrIEVORElORyB6RGF0YS5zZXRRQUNvbmZpZyArKysiKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEucHJvZ3JhbU5hbWUgPSAiICsgekRhdGEucHJvZ3JhbU5hbWUpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5BZmZpbGlhdGUgPSAiICsgekRhdGEuQWZmaWxpYXRlKTsKfTsKCi8vIFVBVCBjb25maWcKekRhdGEuc2V0VUFUQ29uZmlnID0gZnVuY3Rpb24gKGRvYykgewogICAgYWxlcnQoIisrKyBTVEFSVElORyB6RGF0YS5zZXRVQVRDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIGRvYy5kZWxpdmVyZWRUbyA9ICIgKyBkb2MuZGVsaXZlcmVkVG8pOwogICAgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxNDM3IikgPiAtMSkgeyAvL0VSUzcwNDIxIGluZGV4T2YgaXMgc2FmZXIgIzM2NDExCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiRW50cmVzdG8gQ2VudHJhbCI7CiAgICAgICAgLy9lbnRyZXN0byBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAweW52QiI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL2VudHJlc3RvIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAweW52QiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiRW50cmVzdG8iOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMGNEblAiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7IC8va3BzMTgwNDA2IHVwZGF0ZWQgdG8gaW5jbHVkZSBUSUYKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzE3ODUiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgVE9CSQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIlRPQkkgUG9kQ2FyZSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDB5ejhUIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vVE9CSSBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIlRPQkkiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMGNFU0kiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7IC8va3BzMTgwNDA2IHVwZGF0ZWQgdG8gaW5jbHVkZSBUSUYKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzAyNDciKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTlBBRgogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5QQUYiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEcCI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRwIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJOUEFGIjsKICAgICAgICAvL01TSDE4MDQwOCB6RGF0YS5wcm9kdWN0SWQgPSAiYTJENEYwMDAwMDA0VUlsIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwNDQ2IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE5QQUYKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJOUEFGIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHEiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTlBBRiI7CiAgICAgICAgLy9NU0gxODA0MDggekRhdGEucHJvZHVjdElkID0gImEyRDRGMDAwMDAwNFVJbCI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDI1MSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBQQU5PCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiUEFOTyI7CiAgICAgICAgLy9QQU5PIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRyIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vUEFOTyBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIlBBTk8iOwogICAgICAgIC8vekRhdGEucHJvZHVjdElkID0gImEyRDRGMDAwMDAwNFVJcSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDI1NiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBBSU1PVklHCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQUlNT1ZJRyI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRuIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQUlNT1ZJRyBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkFJTU9WSUciOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMDlQRU0iOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMDI1IikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTAzMyIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBDb3NlbnR5eAogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkNvc2VudHl4IjsKICAgICAgICAvL0Nvc2VudHl4IFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHMUYwMDAwMDBKeWNTIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHMUYwMDAwMDBKeWNTIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJDb3NlbnR5eCI7CiAgICAgICAgLy96RGF0YS5wcm9kdWN0SWQgPSAiYTJEMjkwMDAwMDBTUExJIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICAgICAgLy9Ob3QgY3JlYXRlIGEgY2FzZSB3aGVuIGNhc2UgcmVjb3JkIHR5cGUgaXMgaG90bGluZQogICAgICAgIHpEYXRhLnNraXBDYXNlVHlwZUlkID0gWyIwMTJmNDAwMDAwMGdveXkiLCAiMDEyZjQwMDAwMDBnb3l5Il07CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMTUyIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE1heXplbnQgU3VwcG9ydCBQcm9ncmFtCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTWF5emVudCBTdXBwb3J0IFByb2dyYW0iOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEcyOTAwMDAwMVNPdEYiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZzI5MDAwMDAxQTFqMSI7CiAgICAgICAgLy9NYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbSBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEcyOTAwMDAwMVNPdEYiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk1heXplbnQgU3VwcG9ydCBQcm9ncmFtIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAibnVsbCI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSB7CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSBkb2MuZGVsaXZlcmVkVG87IC8vRVJTMTcwNjI2CiAgICB9CiAgICBhbGVydCgiKysrIEVORElORyB6RGF0YS5zZXRVQVRDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIHpEYXRhLnByb2dyYW1OYW1lID0gIiArIHpEYXRhLnByb2dyYW1OYW1lKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEuQWZmaWxpYXRlID0gIiArIHpEYXRhLkFmZmlsaWF0ZSk7Cn07CgovL1RyYW5pbmcgY29uZmlnCnpEYXRhLnNldFRyYWluaW5nQ29uZmlnID0gZnVuY3Rpb24gKGRvYykgewogICAgYWxlcnQoIisrKyBTVEFSVElORyB6RGF0YS5zZXRUcmFpbmluZ0NvbmZpZyArKysiKTsKICAgIGFsZXJ0KCJAQEAgZG9jLmRlbGl2ZXJlZFRvID0gIiArIGRvYy5kZWxpdmVyZWRUbyk7CiAgICBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzEyODYiKSA+IC0xKSB7IC8vRVJTNzA0MjEgaW5kZXhPZiBpcyBzYWZlciAjMzY0MTEKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJFbnRyZXN0byBDZW50cmFsIjsKICAgICAgICAvL2VudHJlc3RvIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDB5bnZCIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vZW50cmVzdG8gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDB5bnZCIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJFbnRyZXN0byI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0RuUCI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTc3NSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBUT0JJCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiVE9CSSBQb2RDYXJlIjsKICAgICAgICAvL1RPQkkgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAweXo4VCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiVE9CSSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0VTSSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDIwNiIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBOUEFGCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTlBBRiI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRwIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRHAiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk5QQUYiOwogICAgICAgIC8vTVNIMTgwNDA4IHpEYXRhLnByb2R1Y3RJZCA9ICJhMXo1QjAwMDAwMGdHSXIiOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzA0NTQiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTlBBRiBwcmlvcml0eQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5QQUYiOwogICAgICAgIC8vTlBBRiBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRxIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJOUEFGIjsKICAgICAgICAvL01TSDE4MDQwOCB6RGF0YS5wcm9kdWN0SWQgPSAiYTF6NUIwMDAwMDBnR0lyIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwMjA3IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIFBBTk8KICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJQQU5PIjsKICAgICAgICAvL1BBTk8gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9QQU5PIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEciI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiUEFOTyI7CiAgICAgICAgLy8gekRhdGEucHJvZHVjdElkID0gImExejVCMDAwMDAwZ0dJdyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDIxOSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBBSU1PVklHCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQUlNT1ZJRyI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHZjQwMDAwMDBnYkRuIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQUlNT1ZJRyBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkFJTU9WSUciOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9ICJhMkRmNDAwMDAwMDlQRU0iOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwOTQxIikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MDk1MCIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBDb3NlbnR5eAogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkNvc2VudHl4IjsKICAgICAgICAvL0Nvc2VudHl4IFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiMDBHMG4wMDAwMDByY3haIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHMG4wMDAwMDByY3haIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJDb3NlbnR5eCI7CiAgICAgICAgLy96RGF0YS5wcm9kdWN0SWQgPSAiYTJEMjkwMDAwMDBTUExJIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICAgICAgLy9Ob3QgY3JlYXRlIGEgY2FzZSB3aGVuIGNhc2UgcmVjb3JkIHR5cGUgaXMgaG90bGluZQogICAgICAgIHpEYXRhLnNraXBDYXNlVHlwZUlkID0gWyIwMTJmNDAwMDAwMGdveXkiLCAiMDEyZjQwMDAwMDBnb3l5Il07CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCItLS0tLS0tLS0tLSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBNYXl6ZW50IFN1cHBvcnQgUHJvZ3JhbQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk1heXplbnQgU3VwcG9ydCBQcm9ncmFtIjsKICAgICAgICAvL01heXplbnQgU3VwcG9ydCBQcm9ncmFtIFF1ZXVlIFNGSUQgYXMgb3duZXIgZm9yIHpTdGFjawogICAgICAgIHpEYXRhLm93bmVySWQgPSAiLS0tLS0tLS0tIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiLS0tLS0tLS0tLS0iOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIk1heXplbnQgU3VwcG9ydCBQcm9ncmFtIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gZG9jLmRlbGl2ZXJlZFRvOyAvL0VSUzE3MDYyNgogICAgfQogICAgYWxlcnQoIisrKyBFTkRJTkcgekRhdGEuc2V0VHJhaW5pbmdDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIHpEYXRhLnByb2dyYW1OYW1lID0gIiArIHpEYXRhLnByb2dyYW1OYW1lKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEuQWZmaWxpYXRlID0gIiArIHpEYXRhLkFmZmlsaWF0ZSk7Cn07CgovL1BST0QgY29uZmlnCnpEYXRhLnNldFByb2RDb25maWcgPSBmdW5jdGlvbiAoZG9jKSB7CiAgICBhbGVydCgiKysrIFNUQVJUSU5HIHpEYXRhLnNldFByb2RDb25maWcgKysrIik7CiAgICBhbGVydCgiQEBAIGRvYy5kZWxpdmVyZWRUbyA9ICIgKyBkb2MuZGVsaXZlcmVkVG8pOwogICAgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcxMjMwIikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODQ0MjYzNTY0NCIpID4gLTEpIHsgLy9FUlM3MDQyMSBpbmRleE9mIGlzIHNhZmVyICMzNjQxMQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIkVudHJlc3RvIENlbnRyYWwiOwogICAgICAgIC8vZW50cmVzdG8gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHludkIiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9lbnRyZXN0byBRdWV1ZSBTRklECiAgICAgICAgekRhdGEucGF0RW5yb2xsUXVldWVJZCA9ICIwMEdmNDAwMDAwMHludkIiOwogICAgICAgIHpEYXRhLmNsYXNzaWZpY2F0aW9uID0gIkVudHJlc3RvIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSAiYTJEZjQwMDAwMDBjRG5QIjsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOyAvL2twczE4MDQwNiB1cGRhdGVkIHRvIGluY2x1ZGUgVElGCiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4NzczMTA4MDYzIikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiNjc4NzI3MTc3OSIpID4gLTEpIHsKICAgICAgICAvL3pEYXRhIGZvciBUT0JJCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiVE9CSSBQb2RDYXJlIjsKICAgICAgICAvL1RPQkkgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMHl6OFQiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9UT0JJIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAweXo4VCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiVE9CSSI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwY0VTSSI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsgLy9rcHMxODA0MDYgdXBkYXRlZCB0byBpbmNsdWRlIFRJRgogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODU1ODE3MjcxMSIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzAyNzUiKSA+IC0xCiAgICAgICAgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg2NjI3NzkzMzUiKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4NjY0NzAxNzUwIikgPiAtMQogICAgICAgIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI4NzcyNjE2MzMyIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE5QQUYKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJOUEFGIjsKICAgICAgICAvL05QQUYgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRHAiOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9OUEFGIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEcCI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiTlBBRiI7CiAgICAgICAgLy9NU0gxODA0MDggekRhdGEucHJvZHVjdElkID0gImExejVCMDAwMDAwZ0dJciI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gbnVsbDsKICAgICAgICB6RGF0YS5nZW5lcmF0ZVRpZmYgPSB0cnVlOwogICAgfSBlbHNlIGlmIChkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODc3NDg4NjY5NyIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjY3ODcyNzA0NTgiKSA+IC0xCiAgICAgICAgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjgwMDM0NDk1NjciKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgTlBBRiBwcmlvcml0eQogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIk5QQUYiOwogICAgICAgIC8vTlBBRiBwcmlvcml0eSBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEcSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL05QQUYgcHJpb3JpdHkgUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRxIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJOUEFGIjsKICAgICAgICAvL01TSDE4MDQwOCB6RGF0YS5wcm9kdWN0SWQgPSAiYTF6NUIwMDAwMDBnR0lyIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwMjgwIikgPiAtMSB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODg4ODkxNDkyNCIpID4gLTEKICAgICAgICB8fCBkb2MuZGVsaXZlcmVkVG8uaW5kZXhPZigiODY2MjcyOTQzOSIpID4gLTEgfHwgZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg3NzcwNTIyODIiKSA+IC0xKSB7CiAgICAgICAgLy96RGF0YSBmb3IgUEFOTwogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gIlBBTk8iOwogICAgICAgIC8vUEFOTyBRdWV1ZSBTRklEIGFzIG93bmVyIGZvciB6U3RhY2sKICAgICAgICB6RGF0YS5vd25lcklkID0gIjAwR2Y0MDAwMDAwZ2JEciI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL1BBTk8gUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiMDBHZjQwMDAwMDBnYkRyIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJQQU5PIjsKICAgICAgICAvL3pEYXRhLnByb2R1Y3RJZCA9ICJhMXo1QjAwMDAwMGdHSXciOwogICAgICAgIHpEYXRhLnByb2R1Y3RJZCA9IG51bGw7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjgzMzg3MzE0OTkiKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI2Nzg3MjcwMjgyIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIEFJTU9WSUcKICAgICAgICB6RGF0YS5wcm9ncmFtTmFtZSA9ICJBSU1PVklHIjsKICAgICAgICAvL0FJTU9WSUcgUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICIwMEdmNDAwMDAwMGdiRG4iOwogICAgICAgIC8vcHJvZ3JhbSBTRklECiAgICAgICAgekRhdGEucHJvZ3JhbUlkID0gImEwZ2Y0MDAwMDAwT2hNYSI7CiAgICAgICAgLy9BSU1PVklHIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIjAwR2Y0MDAwMDAwZ2JEbiI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQUlNT1ZJRyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gImEyRGY0MDAwMDAwOVBFTUVBMiI7CiAgICAgICAgekRhdGEuZ2VuZXJhdGVUaWZmID0gdHJ1ZTsKICAgIH0gZWxzZSBpZiAoZG9jLmRlbGl2ZXJlZFRvLmluZGV4T2YoIjg0NDY2NjEzNjYiKSA+IC0xIHx8IGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCI5MTk0NTk4MDg0IikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIENvc2VudHl4CiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiQ29zZW50eXgiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICItLS0tLS0tLS0tLS0tIjsKICAgICAgICAvL3Byb2dyYW0gU0ZJRAogICAgICAgIHpEYXRhLnByb2dyYW1JZCA9ICJhMGdmNDAwMDAwME9oTWEiOwogICAgICAgIC8vQ29zZW50eXggUXVldWUgU0ZJRAogICAgICAgIHpEYXRhLnBhdEVucm9sbFF1ZXVlSWQgPSAiLS0tLS0tLS0tLS0tLS0tIjsKICAgICAgICB6RGF0YS5jbGFzc2lmaWNhdGlvbiA9ICJDb3NlbnR5eCI7CiAgICAgICAgLy96RGF0YS5wcm9kdWN0SWQgPSAiYTJEMjkwMDAwMDBTUExJIjsKICAgICAgICB6RGF0YS5wcm9kdWN0SWQgPSBudWxsOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICAgICAgLy9Ob3QgY3JlYXRlIGEgY2FzZSB3aGVuIGNhc2UgcmVjb3JkIHR5cGUgaXMgaG90bGluZQogICAgICAgIHpEYXRhLnNraXBDYXNlVHlwZUlkID0gWyIwMTJmNDAwMDAwMGdveXkiLCAiMDEyZjQwMDAwMDBnb3l5Il07CiAgICB9IGVsc2UgaWYgKGRvYy5kZWxpdmVyZWRUby5pbmRleE9mKCIwMDAwMDAwMDAwIikgPiAtMSkgewogICAgICAgIC8vekRhdGEgZm9yIE1heXplbnQgU3VwcG9ydCBQcm9ncmFtCiAgICAgICAgekRhdGEucHJvZ3JhbU5hbWUgPSAiTWF5emVudCBTdXBwb3J0IFByb2dyYW0iOwogICAgICAgIC8vTWF5emVudCBTdXBwb3J0IFByb2dyYW0gUXVldWUgU0ZJRCBhcyBvd25lciBmb3IgelN0YWNrCiAgICAgICAgekRhdGEub3duZXJJZCA9ICItLS0tLS0tLS0tLSI7CiAgICAgICAgLy9wcm9ncmFtIFNGSUQKICAgICAgICB6RGF0YS5wcm9ncmFtSWQgPSAiYTBnZjQwMDAwMDBPaE1hIjsKICAgICAgICAvL01heXplbnQgU3VwcG9ydCBQcm9ncmFtIFF1ZXVlIFNGSUQKICAgICAgICB6RGF0YS5wYXRFbnJvbGxRdWV1ZUlkID0gIi0tLS0tLS0tLS0tLSI7CiAgICAgICAgekRhdGEuY2xhc3NpZmljYXRpb24gPSAiQUlNT1ZJRyI7CiAgICAgICAgekRhdGEucHJvZHVjdElkID0gIm51bGwiOwogICAgICAgIHpEYXRhLmdlbmVyYXRlVGlmZiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICAgIHpEYXRhLnByb2dyYW1OYW1lID0gZG9jLmRlbGl2ZXJlZFRvOyAvL0VSUzE3MDYyNgogICAgfQogICAgYWxlcnQoIisrKyBFTkRJTkcgekRhdGEuc2V0UHJvZENvbmZpZyArKysiKTsKICAgIGFsZXJ0KCJAQEAgekRhdGEucHJvZ3JhbU5hbWUgPSAiICsgekRhdGEucHJvZ3JhbU5hbWUpOwogICAgYWxlcnQoIkBAQCB6RGF0YS5BZmZpbGlhdGUgPSAiICsgekRhdGEuQWZmaWxpYXRlKTsKfTsKCi8qIHRoaXMgaXMgYW4gdW50ZXN0ZWQgZnVuY3Rpb24gdG8gZGV0ZWN0IHRoZSBzYW5kYm94IG5hbWUgYW5kIGFzc2lnbiB2YWx1ZXMgKi8gLy9FUlMxNzA1MjIgYWN0aXZhdGluZwp6RGF0YS5vcmdTd2l0Y2ggPSBmdW5jdGlvbiAoZG9jKSB7IC8vRVJTMTcwNTEyCiAgICBhbGVydCgic2ZVc2VyIGlzICoqKioqKiogOjogIiArIGRvYy5zZlVzZXJOYW1lKTsKICAgIHZhciBzZlVzZXJOYW1lID0gZG9jLnNmVXNlck5hbWUudG9VcHBlckNhc2UoKTsKICAgIGlmIChzZlVzZXJOYW1lLmluZGV4T2YoIkRFViIpID4gLTEpIHsKICAgICAgICBhbGVydCgiQEBAIEluIHRoZSBERVYgb3JnISIpOwogICAgICAgIHpEYXRhLnNldERldkNvbmZpZyhkb2MpOwogICAgfSBlbHNlIGlmIChzZlVzZXJOYW1lLmluZGV4T2YoIk1PQ0tERVAiKSA+IC0xKSB7CiAgICAgICAgYWxlcnQoIkBAQCBJbiB0aGUgTW9jayBERVYgb3JnISIpOwogICAgICAgIHpEYXRhLnNldE1vY2tEZXZDb25maWcoZG9jKTsKICAgIH0gZWxzZSBpZiAoc2ZVc2VyTmFtZS5pbmRleE9mKCJURVNUIikgPiAtMSkgewogICAgICAgIGFsZXJ0KCJAQEAgSW4gdGhlIFRFU1Qgb3JnISIpOwogICAgICAgIHpEYXRhLnNldFRlc3RDb25maWcoZG9jKTsKICAgIH0gZWxzZSBpZiAoc2ZVc2VyTmFtZS5pbmRleE9mKCJUUkFJTklORyIpID4gLTEpIHsKICAgICAgICBhbGVydCgiQEBAIEluIHRoZSBUUkFJTklORyBvcmchIik7CiAgICAgICAgekRhdGEuc2V0VHJhaW5pbmdDb25maWcoZG9jKTsKICAgIH0gZWxzZSBpZiAoc2ZVc2VyTmFtZS5pbmRleE9mKCJTSVQiKSA+IC0xKSB7CiAgICAgICAgYWxlcnQoIkBAQCBJbiB0aGUgU0lUIG9yZyEiKTsKICAgICAgICB6RGF0YS5zZXRTSVRDb25maWcoZG9jKTsKICAgIH0gZWxzZSBpZiAoc2ZVc2VyTmFtZS5pbmRleE9mKCJVQVQiKSA+IC0xKSB7CiAgICAgICAgYWxlcnQoIkBAQCBJbiB0aGUgVUFUIG9yZyEiKTsKICAgICAgICB6RGF0YS5zZXRVQVRDb25maWcoZG9jKTsKICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoIkBAQCBJbiB0aGUgUFJPRCBvcmchIik7CiAgICAgICAgekRhdGEuc2V0UHJvZENvbmZpZyhkb2MpOwogICAgfQp9Owp6RGF0YS5vcmdTd2l0Y2goZG9jKTsgLy9FUlMxNzA4MjIKCi8qIFRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgYWRkZWQgdG8gZXZlcnkgcnVsZSB0byBoZWxwIGFzc3VyZSB0aGF0IHJ1bGVzIGRvIG5vdCBnZXQgYWNjaWRlbnRhbGx5IHRyaWdnZXJlZCAqLwovKiBBZGQgdGhpcyBmdW5jdGlvbmFsaXR5IHRvIHRoZSBydWxlcyBlbmdpbmUgaXRzZWxmPyAqLwp6RGF0YS5jbGVhclRyaWdnZXJDb25kaXRpb24gPSBmdW5jdGlvbiAoZG9jLCB0cmlnZ2VyRmllbGQpIHsgLy9FUlMxNzA1MTIgbW92ZWQgdG8gbGlicmFyeQogICAgdmFyIGFyck9mUGFpcnMgPSBbXTsKICAgIGFyck9mUGFpcnMucHVzaCh0cmlnZ2VyRmllbGQsICIiKTsKICAgIHVwZGF0ZURCKGRvYywgYXJyT2ZQYWlycyk7Cn07Cgp6RGF0YS5pbml0aWFsaXplU3RhY2sgPSBmdW5jdGlvbiAoZG9jLCBzdGFja0ZvbGRlciwgc3RhY2tJZCkgeyAvL0VSUzE3MDUxMiBtb3ZlZCB0byBsaWJyYXJ5CiAgICB2YXIgYXJyT2ZQYWlycyA9IFtdOwogICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTsKICAgIHZhciBjdXJNb250aCA9IHRvZGF5LmdldE1vbnRoKCkgKyAxOwogICAgdmFyIGZpbmFsUm9vdEZvbGRlciA9IHpEYXRhLnByb2dyYW1OYW1lICsgIi1BcmNoaXZlIjsgLy9iYXRlcyBvZiB0aGUgQXJjaGl2ZSBmb2xkZXIKICAgIHZhciB5eXl5TU1Gb2xkZXJOYW1lID0gdG9kYXkuZ2V0RnVsbFllYXIoKSArIChjdXJNb250aCA+IDkgPyBjdXJNb250aCArICIiIDogIjAiICsgY3VyTW9udGgpOwogICAgdmFyIHl5eXlNTUZvbGRlciA9IGZpbmFsUm9vdEZvbGRlciArICItIiArIHl5eXlNTUZvbGRlck5hbWU7CiAgICBhbGVydCgiQEBAIHN0YWNrRm9sZGVyIGlzIC0gIiArIHN0YWNrRm9sZGVyKTsKICAgIGFsZXJ0KCJAQEAgZmluYWxSb290Rm9sZGVyIGlzIC0gIiArIGZpbmFsUm9vdEZvbGRlcik7CiAgICBhbGVydCgiQEBAIHl5TU1Gb2xkZXIgaXMgLSAiICsgeXl5eU1NRm9sZGVyKTsKICAgIGFsZXJ0KCJAQEAgY3JlYXRpbmcgbmV3IHN0YWNrIGRlc3RpbmFpb24gZm9sZGVyIHdpdGggbmFtZSAtICIgKyBzdGFja0ZvbGRlcik7CiAgICAvKiBSZWZyZXNoIHRoZSBjdXJyZW50IGZvbGRlciAqLwogICAgcmVsb2FkQnlJZChkb2MsIFgoZG9jLCAiWF9jdXJGb2xkZXIiKSk7CiAgICAvKiBzYW1lIHZhbHVlIGZvciBCQVRFUyBhbmQgbGFiZWwgKi8KICAgIC8qIFRoZSBmb2xkZXIgc3RydWN0dXJlIHdpbGwgbG9vayBsaWtlIHRoaXM6IC8yMDE2MDgvM0NYM0NYLzEyMzQ1Njc4OS1TVEFDSyAqLwogICAgY3JlYXRlRm9sZGVyKGRvYywgZmluYWxSb290Rm9sZGVyLCB5eXl5TU1Gb2xkZXIsIHl5eXlNTUZvbGRlck5hbWUpOwogICAgY3JlYXRlRm9sZGVyKGRvYywgeXl5eU1NRm9sZGVyLCBzdGFja0ZvbGRlciwgc3RhY2tGb2xkZXIpOwogICAgYWxlcnQoIkBAQEAgTW92aW5nIHRoZSBzdGFjayBkb2N1bWVudCBpbnRvIHRoZSBzdGFjayBmb2xkZXI6ICIgKyBzdGFja0ZvbGRlcik7CiAgICBtb3ZlRG9jdW1lbnQoZG9jLCAiIiwgc3RhY2tGb2xkZXIpOwogICAgYXJyT2ZQYWlycy5wdXNoKCJYX2luZGV4SW5pdGlhbGl6ZWQiLCAidHJ1ZSIpOwogICAgYXJyT2ZQYWlycy5wdXNoKCJYX3N0YWNrIiwgc3RhY2tJZCk7CiAgICBhcnJPZlBhaXJzLnB1c2goImRiLUJBVEVTIiwgZG9jLmtiRGF0YS5ncm91cElELnN1YnN0cmluZygxKSArICItIiArIHN0YWNrSWQgKyAiLVNUQUNLIik7CiAgICAvKiBTdGFjayBMYWJlbGxpbmcgQ2hhbmdlICovCiAgICAvL01TSDE4MTAwNCB1bnVzZWQgdmFyIGR0U3RhbXAgPSBnZXRDdXJEYXRlQW5kVGltZShkb2MsIGZhbHNlKTsKICAgIC8qIGFyck9mUGFpcnMucHVzaCgiZGItbGFiZWwiLCJTdGFjayAtICIgKyBkdFN0YW1wKTsgKi8KICAgIHVwZGF0ZURCKGRvYywgYXJyT2ZQYWlycyk7Cn07Cgp6RGF0YS5jb3VudFBhZ2VzID0gZnVuY3Rpb24gKGRvYywgcGFnZVJhbmdlKSB7IC8vRVJTMTcwNTEyIG1vdmVkIHRvIGxpYnJhcnkKICAgIHZhciBwYWdlcyA9IHBhZ2VSYW5nZS5zcGxpdCgiLCIpOwogICAgaWYgKCFwYWdlcykgewogICAgICAgIHBhZ2VzID0gW3BhZ2VSYW5nZV07CiAgICB9CiAgICByZXR1cm4gcGFnZXMubGVuZ3RoICsgIiI7Cn07Cgp6RGF0YS5leHBvc2VQREYgPSBmdW5jdGlvbiAoZG9jLCBzZklkLCBwYWdlUmFuZ2UpIHsgLy9FUlMxNzA1MjIgYWRkZWQgcGFnZVJhbmdlCiAgICB2YXIgZm9ybWF0Tm93ID0gZ2V0Q3VyRGF0ZUFuZFRpbWUoZG9jLCBmYWxzZSwgdHJ1ZSk7CiAgICB2YXIgYXJyT2ZQYWlycyA9IFtdOwogICAgdmFyIG5vd1RpbWVTdGFtcCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgIiI7CiAgICB2YXIgZmlsZU5hbWUgPSBnZXRDdXJEYXRlKGRvYykgKyAiIE5ldyBGYXgucGRmIjsKCiAgICBhbGVydCgiQEBAZmlsZU5hbWUgPSAiICsgZmlsZU5hbWUpOwogICAgY3JlYXRlRGlyZWN0b3J5KGRvYywgekRhdGEudXBsb2FkRGlyLCBub3dUaW1lU3RhbXApOwoKICAgIC8vQU4xNzA1MjIgc2hvdWxkIHhQYWdlcyBiZSBwYXNzZWQgaW4gYXMgYSB2YXJpYWJsZT8KICAgIHZhciB4UGFnZXMgPSBYKGRvYywgIlhfcG9zaXRpb24iKTsKICAgIGlmIChwYWdlUmFuZ2UpIHsKICAgICAgICB4UGFnZXMgPSBwYWdlUmFuZ2U7IC8vRVJTMTcwNTIyCiAgICB9CiAgICBhbGVydCgiQEBAQEAgQ2FsbGluZyBzcGxpdFBERiB0byBzcGxpdCBvZmYgcGFnZXMgdG8gdXBsb2FkIGFzIFBERiwgcGFnZXMgPSAiICsgeFBhZ2VzICsgIiwgbm93VGltZVN0YW1wID0gIiArIG5vd1RpbWVTdGFtcCk7CiAgICB2YXIgcmVzcG9uc2UgPSBzcGxpdFBERihkb2MsIHhQYWdlcywgekRhdGEudXBsb2FkRGlyLCBub3dUaW1lU3RhbXAsIGZpbGVOYW1lKTsKICAgIGFsZXJ0KCJAQEBAIHJlc3BvbnNlIGZyb20gc3BsaXRQREYgPSAiICsgcmVzcG9uc2UpOwogICAgdmFyIG5ld1BERk5hbWUgPSBYKGRvYywgIm5ld1BERiIsIHJlc3BvbnNlKTsKICAgIGFsZXJ0KCJAQEBAIHNwbGl0IFBERiBGaWxlTmFtZSA9ICIgKyBuZXdQREZOYW1lKTsKICAgIHZhciB1cGxvYWRVUkwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL215ZmlsZWZvcmNlL3VwbG9hZFRvQ2xvdWQuanNwP1NGaWQ9TkVXJlNGcGlkPSIgKyBzZklkICsgIiZTRm9yZz0iICsgZG9jLnNmT3JnICsgIiZsYWJlbD0iICsgZmlsZU5hbWUgKyAiJnNlcnZlckZpbGU9IiArIG5ld1BERk5hbWUgKyAiJkRlc2NyaXB0aW9uPUZpbGUgYXR0YWNoZWQgYXMgUERGIjsKICAgIGFsZXJ0KCIjIyMjIFVwbG9hZCBuYXRpdmUgUERGIHdpdGggIiArIHVwbG9hZFVSTCk7CiAgICB2YXIgciA9IHdnZXQoZG9jLCB1cGxvYWRVUkwpOyAvL0VSUzE3MDUxMiB3YXMgekRhdGEudXBsb2FkVVJMCiAgICBhbGVydCgiIyMjIyBGYXggUmVjZWl2ZWQuIEF0dGFjaGVkIHRvOiAiICsgc2ZJZCk7CiAgICAvLyBGaW5hbGx5LCBkZWxldGUgdGhlIGZvbGRlciBhbmQgYWxsIGNvbnRlbnRzLgogICAgY2xlYW51cERpcmVjdG9yeShkb2MsIHpEYXRhLnVwbG9hZERpciwgbm93VGltZVN0YW1wKTsKICAgIC8vIE5vdyBzZXQgdGhlIGxhYmVsIGluIG91ciBTbmlwcGV0CiAgICBhcnJPZlBhaXJzID0gW107CiAgICBhcnJPZlBhaXJzLnB1c2goImRiLWxhYmVsIiwgIk5ldyBmaWxlICIgKyBmb3JtYXROb3cpOwogICAgYXJyT2ZQYWlycy5wdXNoKCJkYi1CQVRFUyIsIHNmSWQgKyAiLVNUQUNLIik7CiAgICB1cGRhdGVEQihkb2MsIGFyck9mUGFpcnMpOwp9OwovKiBFTkQgKi8Kcw=="},"ordinal":0}

//--- RULE JSON REPRESENTATION - END ---

//--- RULE CONSEQUENCE CODE ---

//global variables
zData.uploadDir = "integrationDir";

// Queue SFID
zData.patEnrollQueueId = ""; //Need to add this queue in Setup
zData.recTypeRequest = "0124C000000Cj5Y"; //ID of the Case Record Type Request_PS_MVN
zData.programName = null;
zData.Affiliate = "";
zData.sourceName = "Fax";
//MSH180408 zData.productId = "";
zData.productId = null;
//Queue SFID as owner for zStack
zData.ownerId = null;
//program SFID
zData.programId = null;
zData.classification = null;
zData.skipCaseTypeId = null;
zData.generateTiff = false;
/*
 * if (1===0) { //ERS170805 get the data from the DeploymentInfo //ERS170909 TODO do this safely with XDeploymentInfo,XCustomSetting
 *     //alert("ERS170725 DI="+doc.kbData.deploymentInfo);
 *     var cs=(doc.kbData.deploymentInfo+""); //not ["Business_Process__c"];
 *     //alert("ERS170805 cs="+cs);
 *     if (cs) {
 *         if (cs.indexOf("zCustomSettings")>-1) cs=X(doc,"zCustomSettings",cs);
 *         if (cs !== "") eval(cs);
 *         alert("ERS170822 import for "+cs);
 *     }
 * }
 */

//CRN170324 TODO doc.clone() done right;
zData.clone = function (doc) {
    var doc0 = [];
    for (var i in doc) {
        doc0[i] = doc[i];
    }
    return doc0;
};

/* MSH181004 unused; using set<org>Config instead
 zData.setbrandprogram = function(doc) {
 alert("+++ STARTING zData.setbrandprogram +++");
 alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
 if (doc.deliveredTo.indexOf("6787271409") > -1) {
 zData.programName = "Entresto Central";
 //entresto Queue SFID as owner for zStack
 zData.ownerId = "00G5B000000eza7";
 //program SFID
 zData.programId = "a0g29000001A1j1";
 //entresto Queue SFID
 zData.patEnrollQueueId = "00G5B000000eza7";
 zData.classification = "Entresto";
 } else if (doc.deliveredTo.indexOf("6787271766") > -1) {
 //zData for TOBI
 zData.programName = "TOBI PodCare";
 //TOBI Queue SFID as owner for zStack
 zData.ownerId = "00G5B000000fsDQ";
 //program SFID
 zData.programId = "a0g29000001A1j1";
 //TOBI Queue SFID
 zData.patEnrollQueueId = "00G5B000000fsDQ";
 zData.classification = "TOBI";
 zData.productId = "a1z5B000000fsdg";
 } else {
 zData.programName = doc.deliveredTo; //ERS170626
 }
 alert("+++ ENDING zData.setbrandprogram +++");
 alert("@@@ zData.programName = " + zData.programName);
 alert("@@@ zData.Affiliate = " + zData.Affiliate);
 };
 */

// DEV config
zData.setDevConfig = function (doc) {
    alert("+++ STARTING zData.setDevConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271409") > -1) {
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2D5C000000IV8k";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271766") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2D5C000000IV8j";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787270206") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a1z5B000000gGIr";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270442") > -1) {
        //zData for NPAF Priority
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a1z5B000000gGIr";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270207") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        //zData.productId = "a2D29000000SPLI";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270219") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2D5C000000IV7N";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271035") > -1 || doc.deliveredTo.indexOf("6787271042") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00G5C000001UEnx";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00G5C000001UEnx";
        zData.classification = "Cosentyx";
        //zData.productId = "a2D29000000SPLI";
        zData.productId = null;
        zData.generateTiff = true;
        //Not create a case when case record type is hotline
        zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("6787271141") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "00G5C000001UEo2";
        //program SFID
        zData.programId = "a0g5C000000G7NA";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "00G5C000001UEo2";
        zData.classification = "Mayzent Support Program";
        //zData.productId = "a2D29000000SPL8";
        zData.productId = null;
        zData.generateTiff = true;
    } else {
        //MSH181004 zData.programName = doc.deliveredTo; //ERS170626
        //MSH181004 Something a little more descriptive
        zData.programName = "No Program Identified";
    }
    alert("+++ ENDING zData.setDevConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.programId = " + zData.programId);
    alert("@@@ zData.ownerId = " + zData.ownerId);
    alert("@@@ zData.patEnrollQueueId = " + zData.patEnrollQueueId);
    alert("@@@ zData.classification = " + zData.classification);
};

// SIT config
zData.setSITConfig = function (doc) {
    alert("+++ STARTING zData.setSITConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271208") > -1) {
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271210") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271216") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a1z5B000000gGIr";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271218") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a1z5B000000gGIr";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271221") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        //zData.productId = "a2D29000000SPLI";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271225") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEM";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270937") > -1 || doc.deliveredTo.indexOf("6787270953") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00G5B000001Dpyz";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00G5B000001Dpyz";
        zData.classification = "Cosentyx";
        //zData.productId = "a2D29000000SPLI";
        zData.productId = null;
        zData.generateTiff = true;
        //Not create a case when case record type is hotline
        zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("6787271147") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "00G5B000001DqUi";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "00G5B000001DqUi";
        zData.classification = "Mayzent Support Program";
        zData.productId = null;
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setSITConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.programId = " + zData.programId);
    alert("@@@ zData.ownerId = " + zData.ownerId);
    alert("@@@ zData.patEnrollQueueId = " + zData.patEnrollQueueId);
    alert("@@@ zData.classification = " + zData.classification);
};

// QA config
zData.setQAConfig = function (doc) {
    alert("+++ STARTING zData.setTestConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("-------------") > -1 || doc.deliveredTo.indexOf("------------ ") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00G4D000000bIQO";
        //program SFID
        zData.programId = "a0gZ0000003LRV6";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00G4D000000bIQO";
        zData.classification = "Cosentyx";
        //zData.productId = "a2D29000000SPLI";
        zData.productId = null;
        zData.generateTiff = true;
        //Not create a case when case record type is hotline
        zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("6787271147") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "00G29000001SOtF";
        //program SFID
        zData.programId = "a0g29000001A1j1";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "00G29000001SOtF";
        zData.classification = "AIMOVIG";
        zData.productId = "a2D29000000SPL8";
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo;
    }
    alert("+++ ENDING zData.setQAConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.Affiliate = " + zData.Affiliate);
};

// UAT config
zData.setUATConfig = function (doc) {
    alert("+++ STARTING zData.setUATConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271437") > -1) { //ERS70421 indexOf is safer #36411
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271785") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787270247") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a2D4F0000004UIl";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270446") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a2D4F0000004UIl";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270251") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        //zData.productId = "a2D4F0000004UIq";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270256") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEM";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787271025") > -1 || doc.deliveredTo.indexOf("6787271033") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00G1F000000JycS";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00G1F000000JycS";
        zData.classification = "Cosentyx";
        //zData.productId = "a2D29000000SPLI";
        zData.productId = null;
        zData.generateTiff = true;
        //Not create a case when case record type is hotline
        zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("6787271152") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "00G29000001SOtF";
        //program SFID
        zData.programId = "a0g29000001A1j1";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "00G29000001SOtF";
        zData.classification = "Mayzent Support Program";
        zData.productId = "null";
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setUATConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.Affiliate = " + zData.Affiliate);
};

//Traning config
zData.setTrainingConfig = function (doc) {
    alert("+++ STARTING zData.setTrainingConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271286") > -1) { //ERS70421 indexOf is safer #36411
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787271775") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("6787270206") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a1z5B000000gGIr";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270454") > -1) {
        //zData for NPAF priority
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a1z5B000000gGIr";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270207") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        // zData.productId = "a1z5B000000gGIw";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270219") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEM";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270941") > -1 || doc.deliveredTo.indexOf("6787270950") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "00G0n000000rcxZ";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "00G0n000000rcxZ";
        zData.classification = "Cosentyx";
        //zData.productId = "a2D29000000SPLI";
        zData.productId = null;
        zData.generateTiff = true;
        //Not create a case when case record type is hotline
        zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("-----------") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "---------";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "-----------";
        zData.classification = "Mayzent Support Program";
        zData.productId = null;
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setTrainingConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.Affiliate = " + zData.Affiliate);
};

//PROD config
zData.setProdConfig = function (doc) {
    alert("+++ STARTING zData.setProdConfig +++");
    alert("@@@ doc.deliveredTo = " + doc.deliveredTo);
    if (doc.deliveredTo.indexOf("6787271230") > -1 || doc.deliveredTo.indexOf("8442635644") > -1) { //ERS70421 indexOf is safer #36411
        zData.programName = "Entresto Central";
        //entresto Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000ynvB";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //entresto Queue SFID
        zData.patEnrollQueueId = "00Gf4000000ynvB";
        zData.classification = "Entresto";
        zData.productId = "a2Df4000000cDnP";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("8773108063") > -1 || doc.deliveredTo.indexOf("6787271779") > -1) {
        //zData for TOBI
        zData.programName = "TOBI PodCare";
        //TOBI Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000yz8T";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //TOBI Queue SFID
        zData.patEnrollQueueId = "00Gf4000000yz8T";
        zData.classification = "TOBI";
        zData.productId = "a2Df4000000cESI";
        zData.generateTiff = true; //kps180406 updated to include TIF
    } else if (doc.deliveredTo.indexOf("8558172711") > -1 || doc.deliveredTo.indexOf("6787270275") > -1
        || doc.deliveredTo.indexOf("8662779335") > -1 || doc.deliveredTo.indexOf("8664701750") > -1
        || doc.deliveredTo.indexOf("8772616332") > -1) {
        //zData for NPAF
        zData.programName = "NPAF";
        //NPAF Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDp";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDp";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a1z5B000000gGIr";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8774886697") > -1 || doc.deliveredTo.indexOf("6787270458") > -1
        || doc.deliveredTo.indexOf("8003449567") > -1) {
        //zData for NPAF priority
        zData.programName = "NPAF";
        //NPAF priority Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDq";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //NPAF priority Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDq";
        zData.classification = "NPAF";
        //MSH180408 zData.productId = "a1z5B000000gGIr";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("6787270280") > -1 || doc.deliveredTo.indexOf("8888914924") > -1
        || doc.deliveredTo.indexOf("8662729439") > -1 || doc.deliveredTo.indexOf("8777052282") > -1) {
        //zData for PANO
        zData.programName = "PANO";
        //PANO Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDr";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //PANO Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDr";
        zData.classification = "PANO";
        //zData.productId = "a1z5B000000gGIw";
        zData.productId = null;
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8338731499") > -1 || doc.deliveredTo.indexOf("6787270282") > -1) {
        //zData for AIMOVIG
        zData.programName = "AIMOVIG";
        //AIMOVIG Queue SFID as owner for zStack
        zData.ownerId = "00Gf4000000gbDn";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //AIMOVIG Queue SFID
        zData.patEnrollQueueId = "00Gf4000000gbDn";
        zData.classification = "AIMOVIG";
        zData.productId = "a2Df40000009PEMEA2";
        zData.generateTiff = true;
    } else if (doc.deliveredTo.indexOf("8446661366") > -1 || doc.deliveredTo.indexOf("9194598084") > -1) {
        //zData for Cosentyx
        zData.programName = "Cosentyx";
        //Cosentyx Queue SFID as owner for zStack
        zData.ownerId = "-------------";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Cosentyx Queue SFID
        zData.patEnrollQueueId = "---------------";
        zData.classification = "Cosentyx";
        //zData.productId = "a2D29000000SPLI";
        zData.productId = null;
        zData.generateTiff = true;
        //Not create a case when case record type is hotline
        zData.skipCaseTypeId = ["012f4000000goyy", "012f4000000goyy"];
    } else if (doc.deliveredTo.indexOf("0000000000") > -1) {
        //zData for Mayzent Support Program
        zData.programName = "Mayzent Support Program";
        //Mayzent Support Program Queue SFID as owner for zStack
        zData.ownerId = "-----------";
        //program SFID
        zData.programId = "a0gf4000000OhMa";
        //Mayzent Support Program Queue SFID
        zData.patEnrollQueueId = "------------";
        zData.classification = "AIMOVIG";
        zData.productId = "null";
        zData.generateTiff = true;
    } else {
        zData.programName = doc.deliveredTo; //ERS170626
    }
    alert("+++ ENDING zData.setProdConfig +++");
    alert("@@@ zData.programName = " + zData.programName);
    alert("@@@ zData.Affiliate = " + zData.Affiliate);
};

/* this is an untested function to detect the sandbox name and assign values */ //ERS170522 activating
zData.orgSwitch = function (doc) { //ERS170512
    alert("sfUser is ******* :: " + doc.sfUserName);
    var sfUserName = doc.sfUserName.toUpperCase();
    if (sfUserName.indexOf("DEV") > -1) {
        alert("@@@ In the DEV org!");
        zData.setDevConfig(doc);
    } else if (sfUserName.indexOf("MOCKDEP") > -1) {
        alert("@@@ In the Mock DEV org!");
        zData.setMockDevConfig(doc);
    } else if (sfUserName.indexOf("TEST") > -1) {
        alert("@@@ In the TEST org!");
        zData.setTestConfig(doc);
    } else if (sfUserName.indexOf("TRAINING") > -1) {
        alert("@@@ In the TRAINING org!");
        zData.setTrainingConfig(doc);
    } else if (sfUserName.indexOf("SIT") > -1) {
        alert("@@@ In the SIT org!");
        zData.setSITConfig(doc);
    } else if (sfUserName.indexOf("UAT") > -1) {
        alert("@@@ In the UAT org!");
        zData.setUATConfig(doc);
    } else {
        alert("@@@ In the PROD org!");
        zData.setProdConfig(doc);
    }
};
zData.orgSwitch(doc); //ERS170822

/* This function needs to be added to every rule to help assure that rules do not get accidentally triggered */
/* Add this functionality to the rules engine itself? */
zData.clearTriggerCondition = function (doc, triggerField) { //ERS170512 moved to library
    var arrOfPairs = [];
    arrOfPairs.push(triggerField, "");
    updateDB(doc, arrOfPairs);
};

zData.initializeStack = function (doc, stackFolder, stackId) { //ERS170512 moved to library
    var arrOfPairs = [];
    var today = new Date();
    var curMonth = today.getMonth() + 1;
    var finalRootFolder = zData.programName + "-Archive"; //bates of the Archive folder
    var yyyyMMFolderName = today.getFullYear() + (curMonth > 9 ? curMonth + "" : "0" + curMonth);
    var yyyyMMFolder = finalRootFolder + "-" + yyyyMMFolderName;
    alert("@@@ stackFolder is - " + stackFolder);
    alert("@@@ finalRootFolder is - " + finalRootFolder);
    alert("@@@ yyMMFolder is - " + yyyyMMFolder);
    alert("@@@ creating new stack destinaion folder with name - " + stackFolder);
    /* Refresh the current folder */
    reloadById(doc, X(doc, "X_curFolder"));
    /* same value for BATES and label */
    /* The folder structure will look like this: /201608/3CX3CX/123456789-STACK */
    createFolder(doc, finalRootFolder, yyyyMMFolder, yyyyMMFolderName);
    createFolder(doc, yyyyMMFolder, stackFolder, stackFolder);
    alert("@@@@ Moving the stack document into the stack folder: " + stackFolder);
    moveDocument(doc, "", stackFolder);
    arrOfPairs.push("X_indexInitialized", "true");
    arrOfPairs.push("X_stack", stackId);
    arrOfPairs.push("db-BATES", doc.kbData.groupID.substring(1) + "-" + stackId + "-STACK");
    /* Stack Labelling Change */
    //MSH181004 unused var dtStamp = getCurDateAndTime(doc, false);
    /* arrOfPairs.push("db-label","Stack - " + dtStamp); */
    updateDB(doc, arrOfPairs);
};

zData.countPages = function (doc, pageRange) { //ERS170512 moved to library
    var pages = pageRange.split(",");
    if (!pages) {
        pages = [pageRange];
    }
    return pages.length + "";
};

zData.exposePDF = function (doc, sfId, pageRange) { //ERS170522 added pageRange
    var formatNow = getCurDateAndTime(doc, false, true);
    var arrOfPairs = [];
    var nowTimeStamp = new Date().getTime() + "";
    var fileName = getCurDate(doc) + " New Fax.pdf";

    alert("@@@fileName = " + fileName);
    createDirectory(doc, zData.uploadDir, nowTimeStamp);

    //AN170522 should xPages be passed in as a variable?
    var xPages = X(doc, "X_position");
    if (pageRange) {
        xPages = pageRange; //ERS170522
    }
    alert("@@@@@ Calling splitPDF to split off pages to upload as PDF, pages = " + xPages + ", nowTimeStamp = " + nowTimeStamp);
    var response = splitPDF(doc, xPages, zData.uploadDir, nowTimeStamp, fileName);
    alert("@@@@ response from splitPDF = " + response);
    var newPDFName = X(doc, "newPDF", response);
    alert("@@@@ split PDF FileName = " + newPDFName);
    var uploadURL = "http://localhost:8080/myfileforce/uploadToCloud.jsp?SFid=NEW&SFpid=" + sfId + "&SForg=" + doc.sfOrg + "&label=" + fileName + "&serverFile=" + newPDFName + "&Description=File attached as PDF";
    alert("#### Upload native PDF with " + uploadURL);
    var r = wget(doc, uploadURL); //ERS170512 was zData.uploadURL
    alert("#### Fax Received. Attached to: " + sfId);
    // Finally, delete the folder and all contents.
    cleanupDirectory(doc, zData.uploadDir, nowTimeStamp);
    // Now set the label in our Snippet
    arrOfPairs = [];
    arrOfPairs.push("db-label", "New file " + formatNow);
    arrOfPairs.push("db-BATES", sfId + "-STACK");
    updateDB(doc, arrOfPairs);
};
/* END */
s
//--- RULE CONSEQUENCE CODE - END ---

//--- RULE VALIDATION CODE ---
//--- RULE VALIDATION CODE - END ---

</script>
